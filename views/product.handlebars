<div class="container">
  <div class="row">
    <div id="content" class="col-sm-12">
      <div class="row">    
        <div class="col-sm-8">
          <ul class="thumbnails">
            <li><a class="thumbnail" href="/images/{{product.image}}" title="{{product.description.name}}"><img src="/images/{{product.image}}" title="{{product.description.name}}" alt="{{product.description.name}}" class="img-responsive" /></a></li>
           
            
            {{#if product.product_image }}
            
            {{#each product.product_image }}
            <li class="image-additional"><a class="thumbnail" href="/images/{{this.image}}" title="{{product.description.name}}"> <img src="/images/{{this.image}}" title="{{product.description.name}}" alt="{{product.description.name}}" /></a></li>
            
           
            
            {{/each}}
             {{/if}}
          </ul>
          
          <ul class="nav nav-tabs">
            <li class="active"><a href="#tab-description" data-toggle="tab">Description</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="tab-description">
                {{product.description.description}}
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          
          <h1>{{product.name}}</h1>
          <ul class="list-unstyled">
            
            {{#if product.manufactirer}}
            <li>Brand <a href="">{{product.manufactirer.name}}</a></li>
            {{/if}}
            <li>Model : {{product.model}}</li>
            <li>Status : {{product.stock.name}}</li>
          </ul>
          
          {{#if product.price}}
          <ul class="list-unstyled">
            
            <li>
              <h2>{{product.price}}$</h2>
            </li>
           
          </ul>
          {{/if}}
          <div id="product">
            
            {{#if product.product_options}}
            <hr>
            <h3>Available Options</h3>
            
            {{#each product.product_options}}
              {{>options}}
            {{/each}}
           
            {{/if}}
           
            <div class="form-group">
              <label class="control-label" for="input-quantity">Qty</label>
              <input type="text" name="quantity" value="1" size="2" id="input-quantity" class="form-control" />
              <input type="hidden" name="product_id" value="{{product.product_id}}" />
              <br />
              <button type="button" id="button-cart" data-loading-text="Loading..." class="btn btn-primary btn-lg btn-block">Add to Cart</button>
            </div>
            

          </div>
        </div>
      </div>
    </div>  
</div>
<script src="/javascripts/jquery/magnific/jquery.magnific-popup.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery/magnific/magnific-popup.css" type="text/javascript"></script>
<script src="/javascripts/jquery/datetimepicker/moment.js" type="text/javascript"></script>
<script src="/javascripts/jquery/datetimepicker/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<link href="/javascripts/jquery/datetimepicker/bootstrap-datetimepicker.min.css" rel="stylesheet">

<script type="text/javascript"><!--
$('#button-cart').on('click', function() {
  $.ajax({
    url: '/cart/add',
    type: 'post',
    data: $('#product input[type=\'text\'], #product input[type=\'hidden\'], #product input[type=\'radio\']:checked, #product input[type=\'checkbox\']:checked, #product select, #product textarea'),
    dataType: 'json',
    beforeSend: function() {
      $('#button-cart').button('loading');
    },
    complete: function() {
      $('#button-cart').button('reset');
    },
    success: function(json) {
      $('.alert, .text-danger').remove();
      $('.form-group').removeClass('has-error');

      if (json['error']) {
        if (json['error']['option']) {
          for (i in json['error']['option']) {
            var element = $('#input-option' + i.replace('_', '-'));

            if (element.parent().hasClass('input-group')) {
              element.parent().after('<div class="text-danger">' + json['error']['option'][i] + '</div>');
            } else {
              element.after('<div class="text-danger">' + json['error']['option'][i] + '</div>');
            }
          }
        }


        // Highlight any found errors
        $('.text-danger').parent().addClass('has-error');
      }

      if (json['success']) {
        $('.breadcrumb').after('<div class="alert alert-success">' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');

        $('#cart > button').html('<i class="fa fa-shopping-cart"></i> ' + json['total']);

        $('html, body').animate({ scrollTop: 0 }, 'slow');

        $('#cart > ul').load('/cart/info');
      }
    },
        error: function(xhr, ajaxOptions, thrownError) {
            alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
        }
  });
});
//--></script>
<script type="text/javascript"><!--
$('.date').datetimepicker({
  pickTime: false
});

$('.datetime').datetimepicker({
  pickDate: true,
  pickTime: true
});

$('.time').datetimepicker({
  pickDate: false
});

$('button[id^=\'button-upload\']').on('click', function() {
  var node = this;

  $('#form-upload').remove();

  $('body').prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>');

  $('#form-upload input[name=\'file\']').trigger('click');

  if (typeof timer != 'undefined') {
      clearInterval(timer);
  }

  timer = setInterval(function() {
    if ($('#form-upload input[name=\'file\']').val() != '') {
      clearInterval(timer);

      $.ajax({
        url: 'index.php?route=tool/upload',
        type: 'post',
        dataType: 'json',
        data: new FormData($('#form-upload')[0]),
        cache: false,
        contentType: false,
        processData: false,
        beforeSend: function() {
          $(node).button('loading');
        },
        complete: function() {
          $(node).button('reset');
        },
        success: function(json) {
          $('.text-danger').remove();

          if (json['error']) {
            $(node).parent().find('input').after('<div class="text-danger">' + json['error'] + '</div>');
          }

          if (json['success']) {
            alert(json['success']);

            $(node).parent().find('input').attr('value', json['code']);
          }
        },
        error: function(xhr, ajaxOptions, thrownError) {
          alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
        }
      });
    }
  }, 500);
});
//--></script>
<script type="text/javascript"><!--


$(document).ready(function() {
  $('.thumbnails').magnificPopup({
    type:'image',
    delegate: 'a',
    gallery: {
      enabled:true
    }
  });
});
//--></script>